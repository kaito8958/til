# TIL（2026-01-08）

## new_record? と三項演算子の使い分け

- `new_record?` は Rails（ActiveRecord）が用意しているメソッドで、「まだDBに保存されていないか？」を true / false で返す
- すでに保存されている場合は `persisted?` が true になる
- Rubyでは `?` がつくメソッドは「状態を質問する」意味を持つ

### 例
```ruby
post.new_record? ? "投稿する" : "更新する"
```
これは
「新規なら投稿する、既存なら更新する」という 値の切り替え

### if と三項演算子の使い分け

if：処理を分けたいとき（副作用あり）
```ruby
if condition
  処理A
else
  処理B
end
```

三項演算子：値を選びたいだけのとき（表示・代入）
```ruby
condition ? 値A : 値B
```
ビューでの文言切り替えは三項演算子が自然
